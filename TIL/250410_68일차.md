## AWS

## Jenkins

---

## AWS

- Amazon Web Service
- 서버, 네트워크 등 **인프라** 전체를 빌려주는 서비스
- 다양한 서비스 제공 → AWS가 제공하는 서비스 만으로 필요한 기능 구출 가능

## 클라우드

- 데이터를 보관, 정리, 분석하고 새로운 서비스를 빠르게 추진할 수 있도록 각종 인프라와 IT 기술을 빌려주는 서비스
- 언제, 어디서나 인터넷을 통해서 접속이 가능한 환경

**클라우드의 세가지 형태**

1. 퍼블릭 클라우드
    - 인프라 전체를 클라우드에서 받음
    - 기업 입장에서, 인프라 구축에 비용을 투자하지 않아도 되고 인프라 관리 인력도 최소화 가능
2. 하이브리드 클라우드
    - IT 기술 → 클라우드
    - 서비스 유지를 위한 인프라 → 클라우드 + 기업
    - 클라우드에 기업 핵심 데이터를 보관하기 꺼리는 기업이 활용
    - 데이터는 기업의 인프라에 직접 보관
    - 서비스 운용은 클라우드 인프라에서 진행
3. 프라이빗 클라우드
    - 기업이 직접 클라우드 서비스 구축 후 계열사와 고객에게만 제공
    - 대규모 기업 집단이나 정부에서 선호
    

**클라우드의 핵심 서비스**

1. IaaS(=Infra as a service, 인프라 서비스)
    - 클라우드의 가장 기본적인 제공 형태
    - 서버, 스토리지, 네트워크 장비, 서버용 운영체제 등을 빌려주는 서비스
2. PaaS(=Platform as a Service, 플랫폼 서비스)
    - 인프라 서비스에서 한 단계 더 발전한 클라우드 서비스
    - 인프라와 IT 기술을 빌려주고, 다양한 지원 서비스 함께 제공
    - 임대 서버
    - OS가 설치된 서버에 사용자가 애플리케이션 설치해서 사용
3. SaaS(=Software as a Service, 소프트웨어 서비스)
    - 인프라, 플랫폼, 애플리케이션 제공
    - 과거에 pc나 서버에 설치해서 이용해야 했던 소프트웨어를 클라우드 통해 제공
4. EaaS(=Everything as a Service)
    - IaaS, PaaS, SaaS 세가지 통칭하는 말
    - XaaS라고도 함
    - AWS는 EaaS라고 할 수 있음

**클라우드의 장점**

- 서버를 직접 구매할 때 고려해야 할 전력, 위치, 추가 확장성 등을 고민하지 않아도 됨
- 데이터센터 어딘가에 이미 준비되어 있는 서버를 간단한 설정만으로 사용할 수 있음
- 서비스 부하에 따라 실시간으로 축소, 확장이 가능
- 사용한만큼 비용을 지불하기 때문에 기존 온프레미스 환경보다 효율이 좋음

**클라우드 컴퓨팅**

- 클라우드를 통해 가상화된 컴퓨팅 리소스를 제공하는 것
- 클라우드 컴퓨팅으로 직접 물리적 서버를 관리하거나 자체 서버에서 소프트웨어 앱을 실행하지 않아도 됨 → 가상의 컴퓨팅 환경 만드는 것이 가능

### 왜 AWS인가?

- 서비스 범주
    - 컴퓨팅, 네트워킹, 스토리지, 데이터베이스, 애플리케이션 관리, 보안과 자격 증명, 애플리케이션 통합
- 장점
    - 저렴한 비용, 속도 및 민첩성 개선, 즉각적 융통성

### AWS 핵심 서비스

### **컴퓨팅**

**EC2**

- 로컬 데이터 센터에서 실행되는 **서버를 가상 인터넷 버전**으로 옮겨 놓은 것
- cpu, 메모리, 스토리지, 네트워크 인터페이스 프로파일로 프로비저닝해 간단한 웹서버부터 멀티 티어 아키텍쳐의 인스턴스 클러스터에 이르기까지 어떠한 애플리케이션 요구라도 충족할 수 있음
- 가상화 기반이라 효율적이고 빠른 배포가 가능

**Lambda**

- aws lambda와 같은 서버리스 애플리케이션 아키텍처를 사용하면 서버를 구축하고 연중무휴로 운영하지 않더라도 요청을 처리할 수 있는 퍼블릭 서비스를 제공 O
- 소비자 요청과 같은 네트워크를 통한 이벤트가 있어야 미리 정의된 코드 기반 작업을 작동시킬 수 있음
- 최대 15분의 작업이 완료되면 lambda 이벤트는 끝나고 모든 리소스가 자동으로 종료

**Auto scaling**

- 실행 중인 EC2 인스턴스 사본을 이미지 템플릿으로 정의
- 기존 인스턴스가 클라이언트의 수요에 대응할 수 없을 때 자동으로 인스턴스를 시작할 수 있음
- 수요가 감소하면 사용하지 않는 인스턴스를 종료할 수 있음

**Elastic Load Balancing**

- 과부하가 걸리지 않도록 유입되는 네트워크 트래픽을 여러 대의 웹서버로 전송

**Elastic Beanstalk**

- AWS 컴퓨팅과 네트워킹 인프라를 프로비저닝하는 작업을 추상화한 관리형 서비스
- 애플리케이션 코드를 입력하는 것 외에 아무것도 할 필요가 없음

### 네트워킹

**VPC**

- EC2나 RDS 인스턴스 등을 호스팅하기 위해 설계된 고수준의 네트워크 환경

**Direct Connect**

- 타사 공급자가 제공하는 네트워크를 통해 aws에 빠르고 안전하게 연결할 수 있음
- 로컬 데이터센터 혹은 사무실과 aws vpc 간 향상된 직통 터널을 구축 가능

**Route 53**

- 도메인 등록, 레코드 관리, 라우팅 프로토콜, 상태 검사를 관리할 수 있는 AWS DNS 서비스
- 다른 AWS 리로스와 완벽하게 통합되어 있음

**CloudFront**

- 분산 글로벌 콘텐츠 전송 네트워크
- 사이트 콘텐츠의 캐싱 버전을 전세계 엣지 로케이션에 저장하고 사용자가 요청할 때 최고 효율성과 짧은 지연 시간으로 콘텐츠를 제공할 수 있음

### 스토리지

**S3**

- 저렴하고 안정적인 다목적 객체 스토리지 제공
- 데이터 스토리지와 백업 용도로 적합
- 스크립트, 템플릿, 로그 파일을 저장할 수 있음

**Glacier**

- 저렴하게 장기 저장할 수 있는 대형 데이터 아카이브 제공

**EBS(Elastic Block Store)**

- EC2 인스턴스 os와 작업 데이터를 호스팅하는 가상의 데이터 드라이브
- 물리 서버의 스토리지 드라이브와 파티션이라는 개념 사용

**Storage Gateway**

- aws 클라우드 스토리지를 로컬 온프레미스 어플라이언스처럼 사용하는 하이브리드 스토리지 시스템
- 스토리지 게이트웨이는 마이그레이션 및 데이터 백업에 훌륭한 도구, 재해 복구 작업에 사용 가능

### 데이터베이스

**RDS(Relational Database Service)**

- 안정적이고 안전하며, 신뢰성 있는 데이터베이스 인스턴스를 구축할 수 있게 하는 관리형 서비스
- 다양한 SQL 데이터베이스 엔진을 RDS에서 실행 가능

**DynamoDB**

- 빠르고 유연하고 확장성이 뛰어난 관리형 서비스
- NoSQL 데이터베이스 워크로드에 적합

### 애플리케이션 관리

**CloudWatch**

- 이벤트를 통해 프로세스 성능 및 활용률을 모니터링
- 사전 설정된 임곗값에 이르면 메시지 발송이나 자동화된 작업을 트리거하도록 설정

**CloudFormation**

- 복잡한 AWS  배포를 템플릿 파일에 완벽하게 정의 가능
- AWS 리소스 사용을 스크립트화 가능
- 애플리케이션 시작 프로세스를 더 쉽고 매력적으로 자동화, 표준화, 가속화 가능

**CloudTrail**

- 계정 내 모든 API 이벤트 기록 수집
- 계정을 감사하고 문제 해결하는데 유용

**Config**

- AWS 계정에서 변광 관리와 규정 준수를 지원하도록 설계
- config에서 처음에 목표 구성 상태를 정의하고 나면, 변경된 모든 상태와 목표 상태의 차이 평가
- 변경된 구성 상태가 목표 범위를 벗어나면 알림이 발송됨

### 보안과 자격

**IAM(Identify and Access management)**

- iam에서 aws 계정의 사용자, 프로그래밍 방식 액세스, 인증을 관리
- 사용자 그룹, 역할, 정책을 사용해서 aws 리소스에 액세스하고 작업할 수 있는 사람과 대상을 정확하게 제어

**KMS(Key Management Service)**

- aws 리소스의 데이터를 보호하는 암호화 키 생성
- 키 사용을 관리하는 관리형 서비스

**Directory Service**

- aws 환경에서 자격 증명이나 관계를 관리해야 할 때, 이 서비스를 사용하여 aws 리소스를 amazon cognito 나 microsoft AD 도메인과 같은 자격 증명 공급자와 통합 가능

### 애플리케이션 통합

**SNS(Simple Notification Service)**

- 자동으로 주제에 관한 알림을 다른 서비스(SQS 대기열, lambda 함수 트리거 등), 모바일 장치, 전자 메일, SMS 사용하는 수신자에게 보내도록 하는 알림 도구

**SWF(Simple Workflow)**

- 수행해야 하는 일련의 작업을 조정 가능
- 접착제, 윤활유가 되어 복잡한 프로세스의 속도를 높이고 각 구성 부분을 연결

**SQS(Simple Queue Service)**

- 분산 시스템 내에서 이벤트 중심 메시징으로 결합을 해제해서 대형 프로세스의 개별 단계를 조정
- SQS 메시지에 포함된 데이터는 안정적으로 전달되므로 애플리케이션 내의 결함성 향상

**API Gateway**

- aws에 구현한 애플리케이션을 위해 안전하고 안정적으로 API를 생성, 관리할 수 있게 함

---

(자습)

### Network

### IP(=Internet Protocol)

- 컴퓨터를 찾을 때 필요한 주소(=컴퓨터 주소, 집주소와 비슷)
- 컴퓨터 간의 네트워킹을 가능하게 하는 통신 규약
- 데이터 통신을 위해서는 IP주소가 필요함
    - 데이터 통신 = 편지를 주고 받는 것과 비슷
- IP주소는 컴퓨터가 네트워크에 연결이 될 때 정해짐
- IPv4: 0.0.0.0 → 4개로 구분된 10진수의 숫자로 표시
    - 개인적으로 사용할 경우 IP주소는 유동적으로 할당되는 것이 일반적
    - 서버의 경우 고정해두지 않으면 사용자가 접속할 수 없으므로 고정

### 포트(Port)

- 컴퓨터가 각종 신호, 정보 등을 주고 받을 수 있도록 하는 통신 토로 (=컴퓨터의 도로)
- 여러 네트워크 활동(예. 업로드, 다운로드 등)을 할 때 사용하는 관문 같은 역할
- 컴퓨터 안에서 프로그램을 찾기 위한 수단
    - 각 프로세스가 위치한 방 번호
- 16비트로된 숫자 + IP 번호 뒤에 `:` 이어서 붙임
- 포트 번호 구분
    - 잘알려진 포트: 국제 도메인 관리 기구에서 통제
        - HTTP:80 // HTTPS:443
    - 등록된 포트: 국제 도메인 관리 기구에 등록
    - 동적 포트: 임시 포트들, 어떤 프로세스들에게 임의로 사용 가능
- IP + 포트 번호 → 소켓
- IP 주소가 집 주소와 같은 개념이면 포트번호는 방 번호와 비슷한 개념
    - IP 주소를 알면 우리집은 찾아올 수 있음
    - 포트를 알면 우리집에 사는 누구한테 오는 건지 알 수 있음
